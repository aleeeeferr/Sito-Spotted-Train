<!doctype html>
<html lang="it">
    <head>
        <meta charset="UTF-8">
        <link rel="icon" href="../immagini/logo.ico">
        <title>Spotted Train</title>
        <link rel="stylesheet" href="../css/style.css">
    </head>
    <body class="pagina-accedi">
        <nav class="barrasup">
            <ul>
                <li class="logo-menu">
                    <a class="active" href="home">
                        <img class="logo" src="../immagini/logo.png" alt="Logo Spotted Train">
                        <span class="logo-testo">
                            <span class="logo-iniziale">S</span><span class="logo-resto"> potted</span><span class="logo-iniziale">T</span><span class="logo-resto"> rain</span>
                        </span>
                    </a>
                </li>
                <li><a href="index.html">Ricerca Orari</a></li>
                <li><a href="tracking.html">Tracking</a></li>
                <li><a href="mappe.html">Mappe Stazioni</a></li>
                <li><a href="biglietti.html">Biglietti</a></li>
                <li><a href="avvisi.html">Avvisi</a></li>
                <li class="pulsante-accedi" id="nav-auth"><a href="login.html">Accedi</a></li>
            </ul>
        </nav>

        <main class="accedi">
            <div class="accedi-card">
                <div class="accedi-tabs">
                    <h1 class="accedi-title">
                        <span class="titolo-tab is-attivo" data-title="login">Accedi</span>
                        <span class="titolo-tab" data-title="registrati">Registrati</span>
                    </h1>

                    <div class="accedi-tab-labels">
                        <button class="accedi-tab is-attivo" type="button" data-tab="login">Accedi</button>
                        <button class="accedi-tab" type="button" data-tab="registrati">Registrati</button>
                    </div>

                    <div class="accedi-panels">
                        <section class="accedi-panel is-attivo" data-panel="login">
                            <div class="accedi-campo">
                                <label for="login-email">Email</label>
                                <input id="login-email" type="email" placeholder="Inserisci la tua email">
                            </div>
                            <div class="accedi-campo">
                                <label for="login-password">Password</label>
                                <input id="login-password" type="password" placeholder="Inserisci la tua password">
                            </div>
                            <label class="accedi-check">
                                <input type="checkbox">
                                Ricordami
                            </label>
                            <button class="accedi-btn" type="button">Accedi</button>
                            <div id="login-error" class="alert alert-danger" style="display: none;"></div>
                            <div class="accedi-links">
                                <p>Non hai un account? <button class="accedi-switch" type="button" data-tab-target="registrati">Registrati</button></p>
                                <a class="accedi-link" href="#">Password dimenticata?</a>
                            </div>
                        </section>

                        <section class="accedi-panel" data-panel="registrati">
                            <div class="accedi-campo">
                                <label for="reg-nome">Nome</label>
                                <input id="reg-nome" type="text" placeholder="Inserisci il tuo nome">
                            </div>
                            <div class="accedi-campo">
                                <label for="reg-email">Email</label>
                                <input id="reg-email" type="email" placeholder="Inserisci la tua email">
                            </div>
                            <div class="accedi-campo">
                                <label for="reg-password">Password</label>
                                <input id="reg-password" type="password" placeholder="Crea una password">
                            </div>
                            <div class="accedi-campo">
                                <label for="reg-password2">Conferma password</label>
                                <input id="reg-password2" type="password" placeholder="Conferma la password">
                            </div>
                            <button class="accedi-btn" type="button">Crea account</button>
                            <div id="register-error" class="alert alert-danger" style="display: none;"></div>
                            <div class="accedi-links">
                                <p>Hai gia un account? <button class="accedi-switch" type="button" data-tab-target="login">Accedi</button></p>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </main>
        <script type="module" src="js/user-dashboard.js"></script>
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                const tabs = Array.from(document.querySelectorAll(".accedi-tab"));
                const titles = Array.from(document.querySelectorAll(".titolo-tab"));
                const panels = Array.from(document.querySelectorAll(".accedi-panel"));
                const switches = Array.from(document.querySelectorAll("[data-tab-target]"));

                const activateTab = (tabId) => {
                    tabs.forEach((tab) => {
                        tab.classList.toggle("is-attivo", tab.dataset.tab === tabId);
                    });
                    titles.forEach((title) => {
                        title.classList.toggle("is-attivo", title.dataset.title === tabId);
                    });
                    panels.forEach((panel) => {
                        panel.classList.toggle("is-attivo", panel.dataset.panel === tabId);
                    });
                };

                tabs.forEach((tab) => {
                    tab.addEventListener("click", () => activateTab(tab.dataset.tab));
                });

                switches.forEach((btn) => {
                    btn.addEventListener("click", () => activateTab(btn.dataset.tabTarget));
                });
            });
        </script>
    </body>
</html>
