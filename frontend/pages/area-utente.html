<!doctype html>
<html lang="it">
    <head>
        <meta charset="UTF-8">
        <link rel="icon" href="../immagini/logo.ico">
        <title>Spotted Train - Area Utente</title>
        <link rel="stylesheet" href="../css/style.css">
    </head>
    <body class="pagina-area-utente">
        <nav class="barrasup">
            <ul>
                <li class="logo-menu">
                    <a class="active" href="home">
                        <img class="logo" src="../immagini/logo.png" alt="Logo Spotted Train">
                        <span class="logo-testo">
                            <span class="logo-iniziale">S</span><span class="logo-resto"> potted</span><span class="logo-iniziale">T</span><span class="logo-resto"> rain</span>
                        </span>
                    </a>
                </li>
                <li><a href="index.html">Ricerca Orari</a></li>
                <li><a href="tracking.html">Tracking</a></li>
                <li><a href="mappe.html">Mappe Stazioni</a></li>
                <li><a href="biglietti.html">Biglietti</a></li>
                <li><a href="avvisi.html">Avvisi</a></li>
                <li class="pulsante-accedi" id="nav-auth"><a href="login.html">Accedi</a></li>
            </ul>
        </nav>

        <main class="area-utente">
            <a class="back-link" href="index.html">← Torna alla home</a>
            <div class="dashboard-grid">
                <div class="dashboard-main">
                    <article class="card card--primary credit-card">
                        <div class="area-card-head">
                            <h2>Credito e biglietti</h2>
                            <span class="area-card-tag">Disponibile</span>
                        </div>
                        <p class="saldo-importo" id="user-credit">0,00 &euro;</p>
                        <div class="saldo-azioni">
                            <input class="input" id="ricarica-input" type="number" min="5" placeholder="Importo ricarica">
                            <button class="btn-primary btn-ricarica" type="button">Ricarica</button>
                        </div>
                        <div id="active-ticket-list"></div>
                        <p class="biglietti-vuoto" id="active-ticket-empty">Nessun biglietto attivo.</p>
                    </article>

                    <article class="card history-card">
                        <div class="area-card-head">
                            <h2>Movimenti credito</h2>
                            <span class="badge-info badge-demo">Ultime operazioni</span>
                        </div>
                        <ul class="history-list" id="credit-movements"></ul>
                        <p class="biglietti-vuoto" id="credit-movements-empty">Nessuna operazione registrata.</p>
                    </article>
                </div>

                <aside class="dashboard-aside">
                    <article class="card profile-card">
                        <div class="profile-avatar" id="profile-avatar">U</div>
                        <div>
                            <h2 id="area-user-name">Nome Utente</h2>
                            <p id="area-user-email">nome@email.it</p>
                        </div>
                        <span class="badge-ok status-badge">Profilo attivo</span>
                    </article>

                    <article class="card quick-info">
                        <h2>Info rapide</h2>
                        <div class="quick-row">
                            <span>Linea preferita</span>
                            <strong>Napoli - Sorrento</strong>
                        </div>
                        <div class="quick-row">
                            <span>Stato rete</span>
                            <strong class="status-ok">Regolare</strong>
                        </div>
                    </article>
                </aside>
            </div>
        </main>

        <div class="modal ticket-modal" id="ticket-modal" aria-hidden="true">
            <div class="modal-overlay" data-close-modal></div>
            <div class="modal-card modal-ticket" role="dialog" aria-modal="true">
                <div class="modal-header">
                    <span class="badge-ok">Pagamento completato</span>
                    <button class="btn-ghost btn-small" type="button" data-close-modal>Chiudi</button>
                </div>
                <div class="modal-body">
                    <div class="modal-info">
                        <h3>Corsa singola</h3>
                        <p class="ticket-route">Napoli Porta Nolana → Torre del Greco</p>
                        <p class="ticket-meta">Codice biglietto: <strong>ST-2025-0182</strong></p>
                        <p class="modal-hint">Mostra il codice al controllo</p>
                    </div>
                    <div class="modal-qr qr-fake">
                        <span class="qr-label">Finto</span>
                    </div>
                </div>
            </div>
        </div>

        <footer class="footer">
            <p>© 2025 Spotted Train. Tutti i diritti riservati.</p>
        </footer>

        <script type="module" src="js/area-user.js"></script>
    </body>
</html>
